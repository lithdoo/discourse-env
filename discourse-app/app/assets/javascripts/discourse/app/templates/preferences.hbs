<DSection @pageClass="user-preferences" />

<div class="user-navigation user-navigation-secondary">
  <HorizontalOverflowNav @ariaLabel="User secondary - preferences">
    <DNavigationItem
      @route="preferences.account"
      @class="user-nav__preferences-account"
      @ariaCurrentContext="subNav"
    >
      {{d-icon "user"}}
      <span>{{i18n "user.preferences_nav.account"}}</span>
    </DNavigationItem>

    <DNavigationItem
      @route="preferences.security"
      @class="user-nav__preferences-security"
      @ariaCurrentContext="subNav"
    >
      {{d-icon "lock"}}
      <span>{{i18n "user.preferences_nav.security"}}</span>
    </DNavigationItem>

    <DNavigationItem
      @route="preferences.profile"
      @class="user-nav__preferences-profile"
      @ariaCurrentContext="subNav"
    >
      {{d-icon "user"}}
      <span>{{i18n "user.preferences_nav.profile"}}</span>
    </DNavigationItem>

    <DNavigationItem
      @route="preferences.emails"
      @class="user-nav__preferences-emails"
      @ariaCurrentContext="subNav"
    >
      {{d-icon "envelope"}}
      <span>{{i18n "user.preferences_nav.emails"}}</span>
    </DNavigationItem>

    <DNavigationItem
      @route="preferences.notifications"
      @class="user-nav__preferences-notifications"
      @ariaCurrentContext="subNav"
    >
      {{d-icon "bell"}}
      <span>{{i18n "user.preferences_nav.notifications"}}</span>
    </DNavigationItem>

    {{#if this.model.can_change_tracking_preferences}}
      <DNavigationItem
        @route="preferences.tracking"
        @class="user-nav__preferences-tracking"
        @ariaCurrentContext="subNav"
      >
        {{d-icon "plus"}}
        <span>{{i18n "user.preferences_nav.tracking"}}</span>
      </DNavigationItem>
    {{/if}}

    <DNavigationItem
      @route="preferences.users"
      @class="user-nav__preferences-users"
      @ariaCurrentContext="subNav"
    >
      {{d-icon "users"}}
      <span>{{i18n "user.preferences_nav.users"}}</span>
    </DNavigationItem>

    <DNavigationItem
      @route="preferences.interface"
      @class="user-nav__preferences-interface"
      @ariaCurrentContext="subNav"
    >
      {{d-icon "desktop"}}
      <span>{{i18n "user.preferences_nav.interface"}}</span>
    </DNavigationItem>

    {{#if (not (eq this.siteSettings.navigation_menu "legacy"))}}
      <DNavigationItem
        @route="preferences.sidebar"
        @class="user-nav__preferences-sidebar"
        @ariaCurrentContext="subNav"
      >
        {{d-icon "bars"}}
        <span>{{i18n "user.preferences_nav.sidebar"}}</span>
      </DNavigationItem>
    {{/if}}

    <PluginOutlet
      @name="user-preferences-nav-under-interface"
      @connectorTagName="div"
      @outletArgs={{hash model=this.model}}
    />
    <PluginOutlet
      @name="user-preferences-nav"
      @connectorTagName="li"
      @outletArgs={{hash model=this.model}}
    />
  </HorizontalOverflowNav>
</div>

<section class="user-content user-preferences" id="user-content">
  <span>
    <PluginOutlet
      @name="above-user-preferences"
      @connectorTagName="div"
      @outletArgs={{hash model=this.model}}
    />
  </span>

  <form class="form-vertical">
    {{outlet}}
  </form>
</section>